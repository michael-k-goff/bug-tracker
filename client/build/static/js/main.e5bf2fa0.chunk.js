(this["webpackJsonpbug-tracker"]=this["webpackJsonpbug-tracker"]||[]).push([[0],{18:function(e){e.exports=JSON.parse('{"domain":"dev-kbi3hwa0.us.auth0.com","clientId":"sOoxnKT3aoTK2GxgDDYdl7P12RGxCcvr"}')},26:function(e,t,a){e.exports=a(40)},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(22),i=a.n(s),l=a(1),c=a.n(l),o=a(4),m=a(5),u=a(7),p=a(9),d=a(6),h=a(41),b=a(2),f=a(15),g=a(23),E=function(){return window.history.replaceState({},document.title,window.location.pathname)},v=r.a.createContext(),j=function(){return Object(n.useContext)(v)},w=function(e){var t=e.children,a=e.onRedirectCallback,s=void 0===a?E:a,i=Object(f.a)(e,["children","onRedirectCallback"]),l=Object(n.useState)(),o=Object(b.a)(l,2),m=o[0],u=o[1],p=Object(n.useState)(),d=Object(b.a)(p,2),h=d[0],j=d[1],w=Object(n.useState)(),y=Object(b.a)(w,2),O=y[0],N=y[1],C=Object(n.useState)(!0),S=Object(b.a)(C,2),x=S[0],k=S[1],T=Object(n.useState)(!1),P=Object(b.a)(T,2),_=P[0],W=P[1];Object(n.useEffect)((function(){!function(){var e,t,a,n,r;c.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,c.a.awrap(Object(g.a)(i));case 2:if(e=l.sent,N(e),!window.location.search.includes("code=")){l.next=10;break}return l.next=7,c.a.awrap(e.handleRedirectCallback());case 7:t=l.sent,a=t.appState,s(a);case 10:return l.next=12,c.a.awrap(e.isAuthenticated());case 12:if(n=l.sent,u(n),!n){l.next=21;break}return l.next=17,c.a.awrap(e.getUser());case 17:return r=l.sent,l.next=20,c.a.awrap(fetch("https://54.200.109.3:5001/add_user",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}));case 20:j(r);case 21:k(!1);case 22:case"end":return l.stop()}}),null,null,null,Promise)}()}),[]);return r.a.createElement(v.Provider,{value:{isAuthenticated:m,user:h,loading:x,popupOpen:_,loginWithPopup:function(){var e,t,a=arguments;return c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return e=a.length>0&&void 0!==a[0]?a[0]:{},W(!0),n.prev=2,n.next=5,c.a.awrap(O.loginWithPopup(e));case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(2),console.error(n.t0);case 10:return n.prev=10,W(!1),n.finish(10);case 13:return n.next=15,c.a.awrap(O.getUser());case 15:t=n.sent,j(t),u(!0);case 18:case"end":return n.stop()}}),null,null,[[2,7,10,13]],Promise)},handleRedirectCallback:function(){var e;return c.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return k(!0),t.next=3,c.a.awrap(O.handleRedirectCallback());case 3:return t.next=5,c.a.awrap(O.getUser());case 5:e=t.sent,k(!1),u(!0),j(e);case 9:case"end":return t.stop()}}),null,null,null,Promise)},getIdTokenClaims:function(){return O.getIdTokenClaims.apply(O,arguments)},loginWithRedirect:function(){return O.loginWithRedirect.apply(O,arguments)},getTokenSilently:function(){return O.getTokenSilently.apply(O,arguments)},getTokenWithPopup:function(){return O.getTokenWithPopup.apply(O,arguments)},logout:function(){return O.logout.apply(O,arguments)}}},t)},y=function(){var e=j(),t=e.loading,a=e.user;return t||!a?r.a.createElement("div",null,"Loading..."):r.a.createElement(n.Fragment,null,r.a.createElement("img",{src:a.picture,alt:"Profile"}),r.a.createElement("p",null,"This is the Profile component"),r.a.createElement("h2",null,a.name),r.a.createElement("p",null,a.email),r.a.createElement("code",null,JSON.stringify(a,null,2)))},O=function(e){var t=e.teams,a=e.setTeam,n=e.setTeams,s=e.user,i=e.is_leader,l=e.view,c=e.setView,o=e.waiting,m=e.setWaiting;return r.a.createElement(r.a.Fragment,null,t.map((function(e){return r.a.createElement(N,{team:e,key:e.id,setTeam:a,setTeams:n,user:s,is_leader:i,view:l,setView:c,waiting:o,setWaiting:m})})))},N=function(e){var t=e.team,a=e.setTeam,n=(e.setTeams,e.user,e.is_leader,e.view),s=e.setView,i=e.waiting,l=e.setWaiting;return r.a.createElement("div",null,r.a.createElement(C,{team:t,setTeam:a,view:n,setView:s,waiting:i,setWaiting:l}))},C=function(e){var t=e.team,a=e.setTeam,n=(e.view,e.setView),s=e.waiting;e.setWaiting;return r.a.createElement("li",{className:"nav-item",onClick:function(){s||(a(t.id),n("Team"))}},r.a.createElement("a",{className:"nav-link",href:"# "},r.a.createElement("span",null,t.name)))},S=function(e){var t=e.teams,a=e.setTeams,s=e.teamsMembership,i=(e.setTeamsMembership,e.team,e.setTeam),l=e.view,c=e.setView,o=e.waiting,m=e.setWaiting,u=j(),p=u.loading,d=u.user;if(p)return r.a.createElement("div",null,"Loading...");if(!d||!t||!s)return r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"# "},r.a.createElement("span",null,"Not logged in")));var h=JSON.parse(t)?JSON.parse(t).map((function(e){return e.id})):[],b=JSON.parse(s)?JSON.parse(s).filter((function(e){return-1===h.indexOf(e.id)})):[];return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"sidebar-heading"},r.a.createElement("b",null,h.length?"Teams I lead":"Teams I lead (None found)")),t.length>0&&r.a.createElement(O,{teams:JSON.parse(t),setTeam:i,setTeams:a,user:d,is_leader:1,view:l,setView:c,waiting:o,setWaiting:m}),r.a.createElement("hr",{className:"sidebar-divider my-0"}),r.a.createElement("div",{className:"sidebar-heading"},r.a.createElement("b",null,b.length?"Other teams I belong to":"Other teams I belong to (none found)")),b.length>0&&r.a.createElement(O,{teams:b,setTeam:i,setTeams:a,user:d,is_leader:0,view:l,setView:c,waiting:o,setWaiting:m}))},x=a(3);function k(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var T=function(e){var t=e.user,a=e.team,n=e.updateCount,s=e.setUpdateCount,i=e.waiting,l=e.setWaiting,c=e.teamMembers;return r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Add Team Member")),r.a.createElement("div",{className:"card-body"},r.a.createElement(_,{user:t,team:a,updateCount:n,setUpdateCount:s,waiting:i,setWaiting:l,teamMembers:c}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(P,{user:t,team:a,updateCount:n,setUpdateCount:s,waiting:i,setWaiting:l,teamMembers:c}))))},P=function(e){Object(u.a)(a,e);var t=k(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.state={memberemail:"Email",message:"",messageStatus:"Failure"},n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({memberemail:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/add_member_email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,team:this.props.team,memberemail:this.state.memberemail})}).then((function(e){return e.json()})).then((function(e){"No such member found."===e.express?(t.setState({message:"No user with email "+t.state.memberemail+" found."}),t.setState({messageStatus:"Failure"})):(t.setState({message:"The user with email "+t.state.memberemail+" added to the team."}),t.setState({messageStatus:"Success"}));for(var a=0;a<JSON.parse(t.props.teamMembers).length;a++)t.state.memberemail===JSON.parse(t.props.teamMembers)[a].email&&(t.setState({message:"The user with email"+t.state.memberemail+" is already on the team."}),t.setState({messageStatus:"Failure"}));t.props.setUpdateCount(t.props.updateCount+1),t.props.setWaiting(0)})))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Add member to team, by email: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",defaultValue:this.state.memberemail,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Member",className:"btn btn-success"}),this.state.message.length>0?r.a.createElement("p",{style:{color:"Failure"===this.state.messageStatus?"#AA0000":"#00AA00"}},this.state.message):r.a.createElement(n.Fragment,null))}}]),a}(r.a.Component),_=function(e){Object(u.a)(a,e);var t=k(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.state={membername:"Name",message:"",messageStatus:"Success"},n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({membername:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/add_member",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,team:this.props.team,membername:this.state.membername})}).then((function(e){return e.json()})).then((function(e){"No such member found."===e.express?(t.setState({message:"No user "+t.state.membername+" found."}),t.setState({messageStatus:"Failure"})):(t.setState({message:t.state.membername+" added to the team."}),t.setState({messageStatus:"Success"}));for(var a=0;a<JSON.parse(t.props.teamMembers).length;a++)t.state.membername===JSON.parse(t.props.teamMembers)[a].name&&(t.setState({message:t.state.membername+" is already on the team."}),t.setState({messageStatus:"Failure"}));t.props.setUpdateCount(t.props.updateCount+1),t.props.setWaiting(0)})))}},{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Add member to team, by name: "),r.a.createElement("br",null),r.a.createElement("input",{type:"text",defaultValue:this.state.membername,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Add Member",className:"btn btn-success"}),this.state.message.length>0?r.a.createElement("p",{style:{color:"Failure"===this.state.messageStatus?"#AA0000":"#00AA00"}},this.state.message):r.a.createElement(n.Fragment,null))}}]),a}(r.a.Component),W=function(e){var t=e.member,a=e.user,s=e.team,i=e.updateCount,l=e.setUpdateCount,c=e.is_leader;return r.a.createElement(n.Fragment,null,r.a.createElement("b",null,"Name:\xa0\xa0\xa0\xa0"),t.name,r.a.createElement("br",null),r.a.createElement("b",null,"Email:\xa0\xa0\xa0\xa0"),t.email,r.a.createElement("br",null),a.email===t.email?r.a.createElement(n.Fragment,null,r.a.createElement("b",null,"Team Leader")):c&&r.a.createElement(M,{member:t,team:s,updateCount:i,setUpdateCount:l}))},M=function(e){Object(u.a)(a,e);var t=k(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(){var e=this;fetch("https://54.200.109.3:5001/remove_member",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({member:this.props.member.id,team:this.props.team})}).then((function(t){e.props.setUpdateCount(e.props.updateCount+1)}))}},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-danger"},"Remove From Team")}}]),a}(r.a.Component),J=function(e){var t=e.team,a=e.teams,s=e.user,i=e.teamMembers,l=e.setTeamMembers,o=e.waiting,m=e.setWaiting,u=Object(n.useState)(0),p=Object(b.a)(u,2),d=p[0],h=p[1];Object(n.useEffect)((function(){!function(){var e,a;c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(fetch("https://54.200.109.3:5001/team_members",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({team:t})}));case 2:return e=n.sent,n.next=5,c.a.awrap(e.json());case 5:a=n.sent,l(a.express);case 7:case"end":return n.stop()}}),null,null,null,Promise)}()}),[s,t,a,d]);for(var f=0,g=0;g<JSON.parse(a).length;g++)JSON.parse(a)[g].id===t&&(f=1);var E=JSON.parse(i).sort((function(e,t){return e.email===s.email&&t.email!==s.email?-1:t.email===s.email&&e.email!==s.email||t.id>e.id?1:-1}));return r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Team Members")),r.a.createElement("div",{className:"card-body"},E.map((function(e,a){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(W,{key:e.id,member:e,user:s,team:t,updateCount:d,setUpdateCount:h,is_leader:f,waiting:o,setWaiting:m}),a<E.length-1&&r.a.createElement(n.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("hr",{className:"sidebar-divider my-0"}),r.a.createElement("br",null)))}))))),f?r.a.createElement(T,{user:s,team:t,updateCount:d,setUpdateCount:h,waiting:o,setWaiting:m,teamMembers:i}):r.a.createElement(n.Fragment,null))};function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var U=function(e){var t=e.user,a=e.team,n=e.setTeams,s=e.setView,i=e.setTeam,l=e.waiting,c=e.setWaiting;return r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Delete Team")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Delete this team."),r.a.createElement("p",null,"WARNING: you cannot undo this operation."),r.a.createElement("br",null),r.a.createElement(R,{user:t,team:a,setTeams:n,setTeam:i,setView:s,waiting:l,setWaiting:c}))))},R=function(e){Object(u.a)(a,e);var t=V(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(){var e=this;this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/delete_team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,team:{id:this.props.team}})}).then((function(e){return e.json()})).then((function(t){e.props.setWaiting(0),e.props.setTeams(t.express),e.props.setTeam(0),e.props.setView("Home")})))}},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-danger btn-lg"},"Delete")}}]),a}(r.a.Component),D=function(e){var t=e.updateCount,a=e.setUpdateCount,n=e.user,s=e.projects,i=e.setProject,l=(e.is_leader,e.is_team_leader),c=e.projectlead,o=e.setProjectlead,m=e.view,u=e.setView,p=e.waiting,d=e.setWaiting;return r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"My Managed Projects")),r.a.createElement("div",{className:"card-body"},0===s.length&&r.a.createElement("p",null,"You are not leading any projects on this team."),s.length>0&&r.a.createElement(I,{updateCount:t,setUpdateCount:a,user:n,projects:s,setProject:i,is_leader:1,is_team_leader:l,projectlead:c,setProjectlead:o,view:m,setView:u,waiting:p,setWaiting:d}))))},F=function(e){var t=e.updateCount,a=e.setUpdateCount,n=e.user,s=e.projects,i=e.setProject,l=(e.is_leader,e.is_team_leader),c=e.projectlead,o=e.setProjectlead,m=e.view,u=e.setView,p=e.waiting,d=e.setWaiting;return r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Other Projects")),r.a.createElement("div",{className:"card-body"},0===s.length&&r.a.createElement("p",null,"You are not on any projects on this team."),s.length>0&&r.a.createElement(I,{updateCount:t,setUpdateCount:a,user:n,projects:s,setProject:i,is_leader:0,is_team_leader:l,projectlead:c,setProjectlead:o,view:m,setView:u,waiting:p,setWaiting:d}))))},A=function(e){Object(u.a)(a,e);var t=V(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={projectname:"New Project",projectlead:0},n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.handleLeadChange=n.handleLeadChange.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({projectname:e.target.value})}},{key:"handleLeadChange",value:function(e){this.setState({projectlead:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;if(e.preventDefault(),!this.props.waiting){this.props.setWaiting(1);var a=JSON.parse(this.props.teamMembers)[this.state.projectlead].id;fetch("https://54.200.109.3:5001/new_project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,lead:a,team:this.props.team,projectname:this.state.projectname})}).then((function(e){t.props.setUpdateCount(t.props.updateCount+1),t.props.setWaiting(0)}))}}},{key:"render",value:function(){return JSON.parse(this.props.teamMembers).length&&this.state.projectlead,r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Create New Project")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Create a new project:"),r.a.createElement("br",null),r.a.createElement("input",{type:"text",defaultValue:this.state.projectname,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),"Project lead:",r.a.createElement("br",null),r.a.createElement("select",{onChange:this.handleLeadChange},JSON.parse(this.props.teamMembers).map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Create Project",className:"btn btn-success"})))))}}]),a}(r.a.Component),I=function(e){var t=e.updateCount,a=e.setUpdateCount,n=e.user,s=e.projects,i=e.setProject,l=e.is_leader,c=e.is_team_leader,o=e.projectlead,m=e.setProjectlead,u=e.view,p=e.setView,d=e.waiting,h=e.setWaiting;return r.a.createElement(r.a.Fragment,null,s.map((function(e){return r.a.createElement(H,{updateCount:t,setUpdateCount:a,user:n,project:e,key:e.id,setProject:i,is_leader:l,is_team_leader:c,projectlead:o,setProjectlead:m,view:u,setView:p,waiting:d,setWaiting:h})})))},H=function(e){e.updateCount,e.setUpdateCount,e.user;var t=e.project,a=e.setProject,n=(e.is_leader,e.is_team_leader,e.projectlead),s=e.setProjectlead,i=e.view,l=e.setView,c=e.waiting,o=e.setWaiting;return r.a.createElement(L,{project:t,key:t.id,setProject:a,projectlead:n,setProjectlead:s,view:i,setView:l,waiting:c,setWaiting:o})},L=function(e){var t=e.project,a=e.setProject,n=(e.projectlead,e.setProjectlead),s=(e.view,e.setView),i=e.waiting;e.setWaiting;return r.a.createElement("button",{onClick:function(){i||(a(t.id),n(t.leader),s("Project"))},className:"btn btn-primary btn-lg",style:{marginRight:"40px",marginBottom:"40px"}},t.name)},G=function(e){var t=e.team,a=e.teams,n=e.is_team_leader,s=(e.project,e.setProject),i=e.projectlead,l=e.setProjectlead,c=e.teamMembers,o=e.setTeamMembers,m=e.projects,u=(e.setProjects,e.projectsMembership),p=(e.setProjectsMembership,e.updateCount),d=e.setUpdateCount,h=e.view,b=e.setView,f=e.setTeams,g=e.setTeam,E=e.waiting,v=e.setWaiting,w=j().user,y=JSON.parse(m)?JSON.parse(m).map((function(e){return e.id})):[],O=JSON.parse(u)?JSON.parse(u).filter((function(e){return-1===y.indexOf(e.id)})):[];return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement(J,{team:t,teams:a,user:w,teamMembers:c,setTeamMembers:o,waiting:E,setWaiting:v})),r.a.createElement("div",{className:"row"},r.a.createElement(D,{updateCount:p,setUpdateCount:d,user:w,projects:JSON.parse(m),setProject:s,is_leader:1,is_team_leader:n,projectlead:i,setProjectlead:l,view:h,setView:b,waiting:E,setWaiting:v}),r.a.createElement(F,{updateCount:p,setUpdateCount:d,user:w,projects:O,setProject:s,is_leader:0,is_team_leader:n,projectlead:i,setProjectlead:l,view:h,setView:b,waiting:E,setWaiting:v})),r.a.createElement("div",{className:"row"},n&&r.a.createElement(A,{updateCount:p,setUpdateCount:d,user:w,team:t,teamMembers:c,waiting:E,setWaiting:v}),n&&r.a.createElement(U,{user:w,team:t,setTeams:f,setView:b,setTeam:g,waiting:E,setWaiting:v})))};function B(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var Y=function(e){var t=e.updateCountProject,a=e.setUpdateCountProject,n=e.user,s=e.project,i=e.setProject,l=e.setView,c=e.waiting,o=e.setWaiting;return r.a.createElement("div",{className:"col-xl-6 col-lg-5"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"Delete Project")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,"Delete this project."),r.a.createElement("p",null,"WARNING: this operation cannot be undone."),r.a.createElement(K,{updateCountProject:t,setUpdateCountProject:a,user:n,project:s,setProject:i,setView:l,waiting:c,setWaiting:o}))))},K=function(e){Object(u.a)(a,e);var t=B(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(){var e=this;this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/delete_project",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,project:{id:this.props.project}})}).then((function(e){return e.json()})).then((function(t){e.props.setWaiting(0),e.props.setUpdateCountProject(e.props.updateCountProject+1),e.props.setProject(0),e.props.setView("Team")})))}},{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-danger btn-lg"},"Delete")}}]),a}(r.a.Component),$=function(e){var t=e.list_name,a=e.issues_array,s=e.userID,i=e.user,l=e.members_by_id,c=e.projectlead,o=e.updateCount,m=e.setUpdateCount,u=e.by_owner,p=e.waiting,d=e.setWaiting,h=a.filter((function(e){return u?e.owner===s:e.owner!==s}));return r.a.createElement("div",{className:"col-xl-6 col-lg-5"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},t)),r.a.createElement("div",{className:"card-body"},h.map((function(e,t){return r.a.createElement(n.Fragment,{key:e.id},r.a.createElement(q,{key:e.id,issue:e,userID:s,user:i,members_by_id:l,projectlead:c,updateCount:o,setUpdateCount:m,waiting:p,setWaiting:d}),t<h.length-1?r.a.createElement(n.Fragment,null,r.a.createElement("hr",{className:"sidebar-divider my-0"}),r.a.createElement("br",null)):r.a.createElement(n.Fragment,null))})))))},q=function(e){Object(u.a)(a,e);var t=B(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).handleClick=n.handleClick.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleClick",value:function(){var e=this;this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/close_issue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,issue:this.props.issue.id})}).then((function(t){e.props.setWaiting(0),e.props.setUpdateCount(e.props.updateCount+1)})))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{float:"left"}},this.props.issue.owner!==this.props.userID&&r.a.createElement("p",null,r.a.createElement("b",null,"Owner: ",this.props.members_by_id[this.props.issue.owner].name)),r.a.createElement("p",null,this.props.issue.description)),r.a.createElement("div",{style:{float:"right"}},this.props.issue.owner===this.props.userID&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-primary"},"Done"),r.a.createElement("br",null),r.a.createElement("br",null)),this.props.userID===this.props.projectlead&&r.a.createElement(n.Fragment,null,r.a.createElement("button",{onClick:this.handleClick,className:"btn btn-warning"},"Close"),r.a.createElement("br",null),r.a.createElement("br",null))),r.a.createElement("div",{style:{clear:"both"}}))}}]),a}(r.a.Component),z=function(e){Object(u.a)(a,e);var t=B(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={issuedesc:"New Issue",owner:0},n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n.handleOwnerChange=n.handleOwnerChange.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({issuedesc:e.target.value})}},{key:"handleOwnerChange",value:function(e){var t=JSON.parse(this.props.teamMembers)[e.target.value].id;this.setState({owner:t})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/new_issue",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,lead:this.state.owner,project:this.props.project,issuedesc:this.state.issuedesc})}).then((function(e){t.props.setUpdateCount(t.props.updateCount+1),t.props.setWaiting(0)})))}},{key:"render",value:function(){return JSON.parse(this.props.teamMembers).length&&!this.state.owner&&this.setState({owner:JSON.parse(this.props.teamMembers)[0].id}),r.a.createElement("div",{className:"col-xl-6 col-lg-5"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"New Issue")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("label",null,"Open a new issue:")),r.a.createElement("input",{type:"text",defaultValue:this.state.issuedesc,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("p",null,"Owner:"),r.a.createElement("select",{onChange:this.handleOwnerChange},JSON.parse(this.props.teamMembers).map((function(e,t){return r.a.createElement("option",{key:t,value:t},e.name)}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{type:"submit",value:"Open Issue",className:"btn btn-success"})))))}}]),a}(r.a.Component),Q=function(e){var t=e.project,a=e.projectlead,s=e.teamMembers,i=(e.projectsMembership,e.updateCountProject),l=e.setUpdateCountProject,o=e.setProject,m=e.setView,u=e.is_team_leader,p=e.waiting,d=e.setWaiting,h=j().user,f=Object(n.useState)(0),g=Object(b.a)(f,2),E=g[0],v=g[1],w=Object(n.useState)(0),y=Object(b.a)(w,2),O=y[0],N=y[1],C=Object(n.useState)(0),S=Object(b.a)(C,2),x=S[0],k=S[1];Object(n.useEffect)((function(){d(1),function(){var e,a;c.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,c.a.awrap(fetch("https://54.200.109.3:5001/issues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:h,project:t})}));case 2:return e=n.sent,n.next=5,c.a.awrap(e.json());case 5:a=n.sent,v(a.express),d(0);case 8:case"end":return n.stop()}}),null,null,null,Promise)}()}),[h,t,x,d]),Object(n.useEffect)((function(){d(1),function(){var e,t;c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(fetch("https://54.200.109.3:5001/get_id",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:h.email})}));case 2:return e=a.sent,a.next=5,c.a.awrap(e.json());case 5:t=a.sent,JSON.parse(t.express).length>0&&N(JSON.parse(t.express)[0].id),d(0);case 8:case"end":return a.stop()}}),null,null,null,Promise)}()}),[h,d]);for(var T=E?JSON.parse(E):[],P={},_=0;_<JSON.parse(s).length;_++)P[JSON.parse(s)[_].id]=JSON.parse(s)[_];return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement($,{list_name:"My Open Issues",issues_array:T,userID:O,user:h,members_by_id:P,projectlead:a,updateCount:x,setUpdateCount:k,by_owner:!0,waiting:p,setWaiting:d}),r.a.createElement($,{list_name:"Other Open Issues",issues_array:T,userID:O,user:h,members_by_id:P,projectlead:a,updateCount:x,setUpdateCount:k,by_owner:!1,waiting:p,setWaiting:d})),r.a.createElement("div",{className:"row"},O===a?r.a.createElement(z,{user:O,project:t,teamMembers:s,updateCount:x,setUpdateCount:k,waiting:p,setWaiting:d}):r.a.createElement(n.Fragment,null),u?r.a.createElement(Y,{updateCountProject:i,setUpdateCountProject:l,user:h,project:t,setProject:o,setView:m,waiting:p,setWaiting:d}):r.a.createElement(n.Fragment,null)))},X=function(e){var t=e.user,a=e.view,s=e.setView,i=e.team,l=e.teamsMembership,c=e.project,o=e.projectsMembership,m=e.waiting,u=(e.setWaiting,j()),p=u.isAuthenticated,d=u.loginWithRedirect,h=u.logout,f=Object(n.useState)(!1),g=Object(b.a)(f,2),E=g[0],v=g[1],w=i&&l?JSON.parse(l).filter((function(e){return e.id===i}))[0].name:"",y="";c&&o&&(JSON.parse(o).filter((function(e){return e.id===c})).length&&(y=JSON.parse(o).filter((function(e){return e.id===c}))[0].name));return r.a.createElement("nav",{className:"navbar navbar-expand navbar-light bg-white topbar mb-4 static-top shadow"},!p&&r.a.createElement("button",{onClick:function(){return d({})},className:"btn btn-primary"},"Log in"),p&&r.a.createElement("ul",{className:"navbar-nav ml-auto"},"Home"===a?r.a.createElement("b",null,"Home"):r.a.createElement("a",{href:"# ",onClick:function(){return!m&&s("Home")}},"Home"),r.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),"Team"===a?r.a.createElement("b",null,"Team: ",w||"No team selected"):w?r.a.createElement("a",{href:"# ",onClick:function(){return!m&&s("Team")}},"Team: ",w):r.a.createElement("i",null,"Team: No team selected"),r.a.createElement("div",{className:"topbar-divider d-none d-sm-block"}),"Project"===a?r.a.createElement("b",null,"Team: ",y||"No project selected"):y?r.a.createElement("a",{href:"# ",onClick:function(){return!m&&s("Project")}},"Project: ",y):r.a.createElement("i",null,"Project: No project selected")),r.a.createElement("ul",{className:"navbar-nav ml-auto"},p&&t&&r.a.createElement("li",{className:"nav-item dropdown no-arrow"},r.a.createElement("a",{className:"nav-link dropdown-toggle",href:"# ",id:"userDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":E,onClick:function(){v(!E)}},r.a.createElement("div",null,r.a.createElement("span",{className:"mr-2 d-none d-lg-inline text-gray-600 small"},t.name),r.a.createElement("img",{className:"img-profile rounded-circle",src:t.picture,alt:"Profile"}))),r.a.createElement("div",{className:"dropdown-menu dropdown-menu-right shadow animated--grow-in"+(E?" show":""),"aria-labelledby":"userDropdown"},r.a.createElement("a",{className:"dropdown-item",href:"# ","data-toggle":"modal","data-target":"#logoutModal",onClick:function(){return h()}},r.a.createElement("i",{className:"fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"}),"Logout")))))};function Z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var ee=function(e){Object(u.a)(a,e);var t=Z(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={teamname:"New Team"},n.handleChange=n.handleChange.bind(Object(x.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(x.a)(n)),n}return Object(m.a)(a,[{key:"handleChange",value:function(e){this.setState({teamname:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.props.waiting||(this.props.setWaiting(1),fetch("https://54.200.109.3:5001/new_team",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:this.props.user,teamname:this.state.teamname})}).then((function(e){return e.json()})).then((function(e){t.props.setWaiting(0),t.props.setTeams(e.express)})))}},{key:"render",value:function(){return r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"New Team")),r.a.createElement("div",{className:"card-body"},r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("p",null,r.a.createElement("label",null,"Create a new team:")),r.a.createElement("input",{type:"text",defaultValue:this.state.teamname,onChange:this.handleChange}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"btn btn-success btn-lg",type:"submit",value:"Create Team"}))))}}]),a}(r.a.Component),te=function(e){var t=e.user,a=(e.teams,e.setTeams),n=e.waiting,s=e.setWaiting;return t?r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("div",{className:"card shadow mb-4"},r.a.createElement("div",{className:"card-header py-3 d-flex flex-row align-items-center justify-content-between"},r.a.createElement("h6",{className:"m-0 font-weight-bold text-primary"},"About Me")),r.a.createElement("div",{className:"card-body"},r.a.createElement("p",null,r.a.createElement("b",null,"Name: "),t.name),r.a.createElement("p",null,r.a.createElement("b",null,"Email: "),t.email),r.a.createElement("img",{src:t.picture,alt:"Profile",style:{height:"100px"}})))),r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement(ee,{user:t,setTeams:a,waiting:n,setWaiting:s})))):r.a.createElement("p",null,"Not logged in.")},ae=function(e){var t=e.teams,a=e.setTeams,n=e.teamsMembership,s=e.setTeamsMembership,i=e.team,l=e.setTeam,c=e.view,o=e.setView;return r.a.createElement("ul",{className:"navbar-nav bg-gradient-primary sidebar sidebar-dark accordion",id:"accordionSidebar"},r.a.createElement("a",{className:"sidebar-brand d-flex align-items-center justify-content-center",href:"# "},r.a.createElement("div",{className:"sidebar-brand-text mx-3"},"Bug Tracker")),r.a.createElement("hr",{className:"sidebar-divider my-0"}),r.a.createElement(S,{teams:t,setTeams:a,teamsMembership:n,setTeamsMembership:s,team:i,setTeam:l,view:c,setView:o}),r.a.createElement("hr",{className:"sidebar-divider my-0"}),r.a.createElement("div",{className:"sidebar-heading"},r.a.createElement("b",null,"About")),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/michael-k-goff/bug-tracker",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"This project on GitHub"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://github.com/michael-k-goff",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"Michael's GitHub page"))),r.a.createElement("li",{className:"nav-item"},r.a.createElement("a",{className:"nav-link",href:"https://michael-k-goff.github.io/",target:"_blank",rel:"noopener noreferrer"},r.a.createElement("span",null,"Michael's software portfolio"))))},ne=function(){var e=j(),t=e.loading,a=e.user,s=Object(n.useState)(0),i=Object(b.a)(s,2),l=i[0],o=i[1],m=Object(n.useState)(0),u=Object(b.a)(m,2),p=u[0],d=u[1],h=Object(n.useState)(0),f=Object(b.a)(h,2),g=f[0],E=f[1],v=Object(n.useState)("Home"),w=Object(b.a)(v,2),y=w[0],O=w[1],N=Object(n.useState)(0),C=Object(b.a)(N,2),S=C[0],x=C[1],k=Object(n.useState)(0),T=Object(b.a)(k,2),P=T[0],_=T[1],W=Object(n.useState)("[]"),M=Object(b.a)(W,2),J=M[0],V=M[1],U=Object(n.useState)(0),R=Object(b.a)(U,2),D=R[0],F=R[1],A=Object(n.useState)(0),I=Object(b.a)(A,2),H=I[0],L=I[1],B=Object(n.useState)(0),Y=Object(b.a)(B,2),K=Y[0],$=Y[1],q=Object(n.useState)(0),z=Object(b.a)(q,2),Z=z[0],ee=z[1];if(Object(n.useEffect)((function(){!function(){var e,t,n,r;c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,c.a.awrap(fetch("https://54.200.109.3:5001/teams",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}));case 4:return e=s.sent,s.next=7,c.a.awrap(e.json());case 7:return t=s.sent,s.next=10,c.a.awrap(fetch("https://54.200.109.3:5001/teams_by_membership",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}));case 10:return n=s.sent,s.next=13,c.a.awrap(n.json());case 13:r=s.sent,o(t.express),d(r.express),E(0);case 17:case"end":return s.stop()}}),null,null,null,Promise)}()}),[a,l]),Object(n.useEffect)((function(){!function(){var e,t,n,r;c.a.async((function(s){for(;;)switch(s.prev=s.next){case 0:if(a){s.next=2;break}return s.abrupt("return");case 2:return s.next=4,c.a.awrap(fetch("https://54.200.109.3:5001/projects",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,team:g})}));case 4:return e=s.sent,s.next=7,c.a.awrap(e.json());case 7:return t=s.sent,s.next=10,c.a.awrap(fetch("https://54.200.109.3:5001/projects_by_membership",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user:a,team:g})}));case 10:return n=s.sent,s.next=13,c.a.awrap(n.json());case 13:r=s.sent,F(t.express),L(r.express),x(0),_(0);case 18:case"end":return s.stop()}}),null,null,null,Promise)}()}),[a,g,K]),t)return r.a.createElement("div",null,"Loading...");if(!a)return r.a.createElement("div",{id:"wrapper"},r.a.createElement(ae,{teams:l,setTeams:o,teamsMembership:p,setTeamsMembership:d,team:g,setTeam:E,view:y,setView:O,waiting:Z,setWaiting:ee}),r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(X,{view:y,setView:O,team:g,teamsMembership:p,waiting:Z,setWaiting:ee}),r.a.createElement("div",{className:"container-fluid"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-xl-6 col-lg-7"},r.a.createElement("p",null,"Welcome to the Bug Tracker. Log in to get started."),r.a.createElement("p",null,"For more instructions or information on the project, see the ",r.a.createElement("a",{href:"https://github.com/michael-k-goff/bug-tracker",target:"_blank",rel:"noopener noreferrer"},"GitHub")," repo."),r.a.createElement("p",null,"For more about the developer, see my ",r.a.createElement("a",{href:"https://github.com/michael-k-goff",target:"_blank",rel:"noopener noreferrer"},"GitHub")," and ",r.a.createElement("a",{href:"https://michael-k-goff.github.io/",target:"_blank",rel:"noopener noreferrer"},"portfolio")," pages."))))),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Michael Goff 2020"))))));var ne=(JSON.parse(l)?JSON.parse(l).map((function(e){return e.id})):[]).indexOf(g)>=0;return r.a.createElement("div",{id:"wrapper"},r.a.createElement(ae,{teams:l,setTeams:o,teamsMembership:p,setTeamsMembership:d,team:g,setTeam:E,view:y,setView:O,waiting:Z,setWaiting:ee}),r.a.createElement("div",{id:"content-wrapper",className:"d-flex flex-column"},r.a.createElement("div",{id:"content"},r.a.createElement(X,{user:a,view:y,setView:O,team:g,teamsMembership:p,project:S,projectsMembership:H,waiting:Z,setWaiting:ee}),"Home"===y&&r.a.createElement(te,{user:a,teams:l,setTeams:o,waiting:Z,setWaiting:ee}),g&&"Team"===y?r.a.createElement(G,{team:g,teams:l,is_team_leader:ne,view:y,project:S,setProject:x,projectlead:P,setProjectlead:_,teamMembers:J,setTeamMembers:V,projects:D,setProjects:F,projectsMembership:H,setProjectsMembership:L,updateCount:K,setUpdateCount:$,setView:O,setTeams:o,setTeam:E,waiting:Z,setWaiting:ee}):r.a.createElement(n.Fragment,null),g&&S&&"Project"===y?r.a.createElement(Q,{project:S,projectlead:P,teamMembers:J,projectsMembership:H,updateCountProject:K,setUpdateCountProject:$,setProject:x,setView:O,is_team_leader:ne,waiting:Z,setWaiting:ee}):"Project"===y&&r.a.createElement("p",null,"No issues")),r.a.createElement("footer",{className:"sticky-footer bg-white"},r.a.createElement("div",{className:"container my-auto"},r.a.createElement("div",{className:"copyright text-center my-auto"},r.a.createElement("span",null,"Copyright \xa9 Michael Goff 2020"))))))},re=a(12),se=Object(re.a)(),ie=function(e){var t=e.component,a=e.path,s=Object(f.a)(e,["component","path"]),i=j(),l=i.loading,o=i.isAuthenticated,m=i.loginWithRedirect;Object(n.useEffect)((function(){if(!l&&!o){c.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.a.awrap(m({appState:{targetUrl:a}}));case 2:case"end":return e.stop()}}))}}),[l,o,m,a]);return r.a.createElement(h.a,Object.assign({path:a,render:function(e){return!0===o?r.a.createElement(t,e):null}},s))};a(39);function le(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var a,n=Object(d.a)(e);if(t){var r=Object(d.a)(this).constructor;a=Reflect.construct(n,arguments,r)}else a=n.apply(this,arguments);return Object(p.a)(this,a)}}var ce=function(e){Object(u.a)(a,e);var t=le(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={response:"",post:"",responseToPost:""},e.callApi=function(){var e,t;return c.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,c.a.awrap(fetch("https://54.200.109.3:5001/users"));case 2:return e=a.sent,a.next=5,c.a.awrap(e.json());case 5:if(t=a.sent,200===e.status){a.next=8;break}throw Error(t.message);case 8:return a.abrupt("return",t);case 9:case"end":return a.stop()}}),null,null,null,Promise)},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.callApi().then((function(t){return e.setState({response:t.express})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h.b,{history:se},r.a.createElement(h.c,null,r.a.createElement(ie,{path:"/profile",component:y}),r.a.createElement(h.a,{path:"/",component:ne}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var oe=a(18);i.a.render(r.a.createElement(w,{domain:oe.domain,client_id:oe.clientId,redirect_uri:window.location.origin+"/bt-frontend",onRedirectCallback:function(e){se.push(e&&e.targetUrl?e.targetUrl:window.location.pathname)}},r.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[26,1,2]]]);
//# sourceMappingURL=main.e5bf2fa0.chunk.js.map